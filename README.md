
# âœ‰ï¸ Jì—ê²Œ
ì—…ì²´ì˜ ì£¼ë¬¸ì— ëŒ€í•´ ë¬¼ë¥˜ ê´€ë¦¬ ë° ë°°ì†¡ ì‹œìŠ¤í…œì„ ê´€ë¦¬í•˜ê¸° ìœ„í•œ Micro Service Architecture ê¸°ë°˜ì˜ íŒ€í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤.

## How To Start
1. ìš°ì„  í”„ë¡œì íŠ¸ Git Cloneì„ ë°›ì•„ì¤€ë‹¤.
```
git clone https://github.com/ForJJJ/DeliverySystem.git
```
2. com.forj.delivery-system í´ë”ë¡œ ë“¤ì–´ê°€ì„œ docker compose up ì„ í•´ì¤€ë‹¤.
   * `Postgresql ID / PW` : ì›í•˜ëŠ” ê±¸ë¡œ ì„¤ì •í•˜ê¸°
   * `Redis` ì›í•˜ëŠ” ê±¸ë¡œ ì„¤ì •í•˜ê¸°
   * `RabbitMQ ID /PW` : ì›í•˜ëŠ” ê±¸ë¡œ ì„¤ì •í•˜ê¸° (ê¸°ë³¸ê°’ : guest / guest)
```
cd com.forj.delivery-system
docker compose up -d
```
3. Gradle build í•˜ê¸°
4. application.yml ì„¤ì •í•˜ê¸°
5. í”„ë¡œì íŠ¸ ì‹¤í–‰ ìˆœì„œ
```
Servcr -> Gateway -> Hub -> Company -> ê·¸ì™¸ ìˆœì„œ ìƒê´€ì—†ìŒ...
```

## ğŸ‘¥ ê°œë°œ ì¸ì›
* ğŸ‘¸ì´ìˆ˜ì • - [Github ë§í¬](https://github.com/Krystal-13)
* ğŸ§‘â€ğŸ’»ì§€ë¯¼ì²  - [Github ë§í¬](https://github.com/jiminchur)
* ğŸ‘¨â€ğŸ’»ì´ìƒìš° - [Github ë§í¬](https://github.com/lswoo0705)

## í”„ë¡œì íŠ¸ ì£¼ìš” ê¸°ëŠ¥
### í—ˆë¸Œ ê°„ ì´ë™ì •ë³´ê´€ë¦¬
> * í—ˆë¸Œê°€ ìƒì„±ë˜ë©´ í—ˆë¸Œ ê°„ ì´ë™ ì •ë³´ê°€ ë™ì‹œì— ìƒì„±ë©ë‹ˆë‹¤. ì´ë¥¼ í†µí•´ í—ˆë¸Œ ê°„ì˜ ì´ë™ ê²½ë¡œì™€ ì†Œìš” ì‹œê°„ ë“±ì˜ ì •ë³´ë¥¼ ì‚¬ì „ì— ì¤€ë¹„í•˜ì—¬, ì‹¤ì‹œê°„ìœ¼ë¡œ ìš”ì²­ì´ ë“¤ì–´ì™”ì„ ë•Œ ë¹ ë¥´ê²Œ ì‘ë‹µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> * ì‚¬ì „ ìƒì„±ëœ í—ˆë¸Œ ê°„ ì´ë™ ì •ë³´ëŠ” ë‹¤ë¥¸ APIì—ì„œ íš¨ìœ¨ì ìœ¼ë¡œ ì¡°íšŒí•  ìˆ˜ ìˆìœ¼ë©°, ë¬¼ë¥˜ ê²½ë¡œ ìµœì í™”ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
> * ìµœì  ì‚½ì… ìœ„ì¹˜ ê³„ì‚° í”Œë¡œìš°
> 1. ê¸°ì¡´ í—ˆë¸Œ ê²½ë¡œ ì •ë³´ ì¡°íšŒ
> 2. ê° í—ˆë¸Œ ì‚¬ì´ì˜ ì´ë™ ê±°ë¦¬ ë° ì‹œê°„ ê³„ì‚°
>   * ê¸°ì¡´ í—ˆë¸Œì˜ ì¶œë°œ ì§€ì ê³¼ ë„ì°© ì§€ì  ì‚¬ì´ì— ìƒˆë¡œìš´ í—ˆë¸Œë¥¼ ì‚½ì…í–ˆì„ ë•Œ, ì¶”ê°€ë¡œ ë°œìƒí•˜ëŠ” ì´ë™ ì‹œê°„ê³¼ ê±°ë¦¬ë¥¼ ê³„ì‚°
>   * ì˜ˆ: í—ˆë¸Œ A -> í—ˆë¸Œ B ì‚¬ì´ì— ìƒˆë¡œìš´ í—ˆë¸Œ Cê°€ ì‚½ì…ë  ê²½ìš°, A -> C, C -> Bì˜ ê±°ë¦¬ì™€ ì‹œê°„ì„ ê³„ì‚°í•˜ì—¬ ê¸°ì¡´ ê²½ë¡œ(A -> B)ì™€ ë¹„êµ
> 3. ìµœì  ìœ„ì¹˜ ì°¾ê¸°
>   * ì¶”ê°€ ë¹„ìš©(newDistance - currentDistance)ì´ ê°€ì¥ ì ì€ ìœ„ì¹˜ë¥¼ ì„ íƒ
> 4. ìµœì  ìœ„ì¹˜ì— í—ˆë¸Œ ì‚½ì…
>   * ì˜ˆ: ê¸°ì¡´ ê²½ë¡œ A -> Bê°€ ìˆë‹¤ë©´, A -> C -> Bë¡œ ë³€ê²½í•˜ê³ , ê¸°ì¡´ A -> B ê²½ë¡œë¥¼ ì‚­ì œ

### ì£¼ë¬¸ ì‹œë‚˜ë¦¬ì˜¤
> * ì£¼ë¬¸ ìƒì„± : ì£¼ë¬¸ì´ ìƒì„±ì´ ë˜ë©´ Productìª½ forj.product queueë¡œ ì£¼ë¬¸ ì •ë³´ë¥¼ ì „ë‹¬í•©ë‹ˆë‹¤.
> * ìƒí’ˆ ìˆ˜ëŸ‰ ê²€ì¦ : forj.productì—ì„œ ë°›ì€ ì •ë³´ì¤‘ ìƒí’ˆIDì™€ ìƒí’ˆ ìˆ˜ëŸ‰ì—ëŒ€í•œ ê²€ì¦ì´ ì§„í–‰ë©ë‹ˆë‹¤. í†µê³¼ê°€ ë˜ë©´ forj.deliveryë¡œ ì£¼ë¬¸ì •ë³´ê°€ ì „ë‹¬ë©ë‹ˆë‹¤. ìˆ˜ëŸ‰ì´ ì¬ê³ ë³´ë‹¤ ì´ˆê³¼ê°€ ë˜ë©´ forj.error.productë¡œ rollbackì´ ì¼ì–´ë‚©ë‹ˆë‹¤.
> * ë°°ì†¡ ìƒì„± : ìƒí‘¸ ìˆ˜ëŸ‰ê²€ì¦ì´ ëë‚˜ë©´ forj.deliveryì—ì„œ ë°›ì€ ì£¼ë¬¸ ì •ë³´ë¡œ ë°°ì†¡ì´ ìƒì„±ì´ ë©ë‹ˆë‹¤.

<details>
    <summary>ì°¸ê³  ì´ë¯¸ì§€</summary>

<img width="607" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-23 á„‹á…©á„’á…® 3 03 12" src="https://github.com/user-attachments/assets/ea997cb0-e76b-4524-b80a-62fb8892736d">

</details>

### ë°°ì†¡ ì‹œë‚˜ë¦¬ì˜¤
> * ë°°ë‹¬ ê¸°ì‚¬ë‹˜ ë°°ì†¡ ì„ íƒ : í•´ë‹¹ í—ˆë¸Œì˜ ê¸°ì‚¬ë‹˜ì´ ë°°ì†¡ê±´ì„ ì¡ìœ¼ë©´ ì£¼ë¬¸ ìª½ìœ¼ë¡œëŠ” forj.complete.orderë¡œ í•´ë‹¹ ì£¼ë¬¸ID, ë°°ì†¡IDë¥¼ ì „ë‹¬í•˜ê³  ì£¼ë¬¸ ìƒíƒœ COMPLETEë¡œ ë³€ê²½, ë°°ì†¡ ê¸°ë¡ ìª½ì—ë„ forj.delivery-historyì— ë°°ì†¡ì •ë³´ ì „ë‹¬
> * ë°°ì†¡ ê¸°ë¡ ìƒì„± : forj.delivery-historyì—ì„œ ë°›ì€ ë°°ì†¡ì •ë³´ë¡œ í—ˆë¸Œê°„ ì´ë™ì •ë³´DBë¥¼ ì¡°íšŒí•´ì„œ ì‹œí€€ìŠ¤ì— ë”°ë¼ í…Œì´ë¸”ì— ê¸°ë¡í•˜ê¸°
> * ë„ì°© ì•Œë¦¼ : ë°°ì†¡ê¸°ì‚¬ë‹˜ì´ ì¤‘ê°„ì§€ì  ë„ì°© ì•Œë¦¼ APIë¥¼ ë‚ ë¦¬ê²Œ ë˜ë©´ ì§„í–‰ì¤‘ì¸ ìˆœì„œëŠ” ìƒíƒœê°’ì´ COMPLETEë¡œ ë³€ê²½, ê±¸ë¦° ì‹¤ì œ ì‹œê°„ ê¸°ë¡, ë‹¤ìŒ ë°°ì†¡ìˆœì„œëŠ” READY -> PROGRESSë¡œ ë³€ê²½
> * ìµœì¢… ëª©ì ì§€ ë„ì°© : ìµœì¢… ëª©ì ì§€ ë„ì°©ì‹œ ë„ì°© APIë¥¼ ë‚ ë¦¬ê²Œ ë˜ë©´ ë§ˆì§€ë§‰ ìˆœì„œê¹Œì§€ ìƒíƒœê°’ì´ COMPLETEë¡œ ë³€ê²½ì´ ë˜ê³  forj.complete.deliveryìª½ìœ¼ë¡œ í•´ë‹¹ ë°°ì†¡ID ì „ë‹¬
> * ë°°ì†¡ ì™„ë£Œ : forj.complete.deliveryìª½ì—ì„œ ë°›ì€ ë°°ì†¡IDì— ìƒíƒœê°’ì„ COMPLETEë¡œ ë³€ê²½

<details>
    <summary>ì°¸ê³  ì´ë¯¸ì§€</summary>

<img width="781" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-09-23 á„‹á…©á„’á…® 3 03 35" src="https://github.com/user-attachments/assets/348aa58e-3d23-4d10-b221-027c787db0f5">

</details>

## ì ìš© ê¸°ìˆ 

### RabbitMQ
> * ì£¼ë¬¸ì´ ë™ì‹œì— ë“¤ì–´ì˜¬ ê°€ì •í•˜ì— ë¹„ë™ê¸° ì²˜ë¦¬ë¡œ ì£¼ë¬¸ì„ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•©ë‹ˆë‹¤.
> * ì£¼ë¬¸ ìƒì„± ì‹œ forj.product queueë¥¼ í†µí•´ ì£¼ë¬¸ ì •ë³´ë¥¼ ì „ë‹¬í•˜ì—¬ ì‹œìŠ¤í…œì˜ ì‘ë‹µì„±ì„ ë†’ì…ë‹ˆë‹¤.
> * ìƒí’ˆ ìˆ˜ëŸ‰ ê²€ì¦ ë° ë°°ì†¡ ìƒì„± ê³¼ì •ì—ì„œ ë°œìƒí•  ìˆ˜ ìˆëŠ” ì§€ì—°ì„ ìµœì†Œí™”í•˜ê³ , ê° ë‹¨ê³„ì˜ ì²˜ë¦¬ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ ì§€ì›í•©ë‹ˆë‹¤.
> * ì˜¤ë¥˜ ë°œìƒ ì‹œ forj.error.productë¡œì˜ ë¡¤ë°±ì„ í†µí•´ ì‹ ë¢°ì„±ì„ ë³´ì¥í•˜ê³ , ì „ë°˜ì ì¸ ì£¼ë¬¸ ì²˜ë¦¬ íë¦„ì„ ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€í•©ë‹ˆë‹¤.

### Redis
> * í—ˆë¸Œ ê°„ ì´ë™ ì •ë³´ì™€ ê°™ì€ ë¹ˆë²ˆí•œ ì¡°íšŒ ë°ì´í„°ë¥¼ Redisì— ì§§ì€ ì‹œê°„ ë‹¨ìœ„ë¡œ ìºì‹±í•˜ì—¬, ì™¸ë¶€ API í˜¸ì¶œ ë¹ˆë„ë¥¼ ì¤„ì´ê³  ì¡°íšŒ ì„±ëŠ¥ì„ í–¥ìƒì‹œì¼°ìŠµë‹ˆë‹¤.
> * ì´ë¥¼ í†µí•´ ì‹œìŠ¤í…œ ë¶€í•˜ë¥¼ ì¤„ì´ê³ , ì‘ë‹µ ì†ë„ë¥¼ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.

### Spring Security
> * ë¡œê·¸ì¸í•œ íšŒì›ì€ ì„œë²„ë¡œë¶€í„° JWTë¥¼ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤.
> * íšŒì›ì€ ë°œê¸‰ë°›ì€ JWTë¥¼ ì‚¬ìš©í•´ ê° ê¶Œí•œì— ë§ëŠ” APIì— ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> * API Gatewayì—ì„œ JWT ê²€ì¦ì„ ì§„í–‰í•˜ê³ , ì¸ì¦ëœ ì‚¬ìš©ìëŠ” ê° APIì—ì„œ ê¶Œí•œì„ í™•ì¸ë°›ìŠµë‹ˆë‹¤.

### OPEN API - OpenWeather API ì—°ë™ì„ í†µí•œ ë‚ ì”¨ ì˜ˆë³´ ì •ë³´ ì œê³µ
> * ê° í—ˆë¸ŒëŠ” ìœ„ì¹˜ì— ëŒ€í•œ ìœ„ë„/ê²½ë„ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë‹´ë‹¹í•˜ëŠ” ë°°ì†¡ ë‹´ë‹¹ìëŠ” ë§¤ì¼ ì•„ì¹¨ ê·¸ ë‚ ì˜ ë‚ ì”¨ ì •ë³´ë¥¼ ê³µìœ ë°›ìŠµë‹ˆë‹¤.
> * í—ˆë¸Œ ì§€ì—­ì˜ ìœ„ì¹˜ ì¢Œí‘œë¥¼ OpenWeather apiì— ì „ë‹¬í•˜ì—¬ í•´ë‹¹ ì§€ì—­ì˜ ì‹¤ì‹œê°„ ë‚ ì”¨ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.
> * ì´ ì •ë³´ë¥¼ í™œìš©í•´ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ë‚ ì”¨ ë°ì´í„°ë¥¼ ì‹¤ì‹œê°„ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### OPEN API - Gemini AI API ì—°ë™ì„ í†µí•œ ë°ì´í„° ìš”ì²­ ë° ì²˜ë¦¬
> * Gemini AIì— ë°ì´í„°ì™€ ìš”ì²­ ì •ë³´ë¥¼ ì „ë‹¬í•˜ì—¬ ì›í•˜ëŠ” í˜•ì‹ì˜ ë°ì´í„°ë¥¼ ë°›ìŠµë‹ˆë‹¤.
> * ì‚¬ìš©ìëŠ” ìœ„ì— ìš”ì²­í•œ ë‚ ì”¨ ì •ë³´ë“¤ê³¼ ì›í•˜ëŠ” ë°ì´í„°(ë°°ì†¡ì •ë³´ ë“±)ë¥¼ Geminiì—ê²Œ ë„˜ê²¨ì£¼ì–´ ì›í•˜ëŠ” í˜•ì‹ì˜ ì •ë¦¬ëœ text ë©”ì‹œì§€ ë°ì´í„°ë¥¼ ë°›ìŠµë‹ˆë‹¤.

### OPEN API - Slack API ì—°ë™ì„ í†µí•œ Bot ë©”ì‹œì§€ ì „ë‹¬
> * íšŒì›ê°€ì… ì‹œ ë“±ë¡í•œ Slack ê³ ìœ  IDê°’ì„ ì‚¬ìš©í•´ ê´€ë¦¬ìëŠ” Slack Botìœ¼ë¡œ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
> * í•´ë‹¹ ì‚¬ìš©ìê°€ ì—…ì²´ë°°ì†¡ë‹´ë‹¹ìë¡œ íŠ¹ì • í—ˆë¸Œì— ì†Œì†ë˜ì–´ìˆë‹¤ë©´ ê·¸ í—ˆë¸Œì˜ ìœ„ì¹˜ì˜ ì¢Œí‘œê°’ê³¼ ë°°ì†¡ ë‚´ì—­ë“¤ì„ ì¡°íšŒí•˜ì—¬ ë‚ ì”¨ ì •ë³´(2. OpenWeather)ì™€ ë°°ì†¡ ì •ë³´ë¥¼ Gemini API(3. Gemini API)ì— ì „ë‹¬í•´ ë°›ì€ text ë©”ì‹œì§€ ë°ì´í„°ë¥¼ Slack Botìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
> * í•´ë‹¹ ì‚¬ìš©ìê°€ í—ˆë¸Œë°°ì†¡ë‹´ë‹¹ìë¼ë©´ í•´ë‹¹ í—ˆë¸Œì˜ ë°°ì†¡ ì •ë³´ë¥¼ ì¡°íšŒí•´ Gemini API(3. Gemini API)ì— ì „ë‹¬í•˜ê³ , ë°˜í™˜ëœ ë©”ì‹œì§€ë¥¼ Slack Botìœ¼ë¡œ ì „ì†¡í•©ë‹ˆë‹¤.
> * Geminiì— ìš”ì²­í•œ ë‚´ìš©ì˜ dataì™€ ë°˜í™˜ë°›ì€ dataëŠ” dbì— ì €ì¥ë˜ì–´ ì¡°íšŒê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

### API Test
> * Post Man
> * HTTP Test

## í…ŒìŠ¤íŠ¸ ë°©ë²•

## ê¸°íƒ€ ëª…ì„¸ì„œ ë° ì„¤ê³„ì„œ
* ìš”êµ¬ì‚¬í•­ ëª…ì„¸ì„œ - [Wiki ë³´ê¸°](https://github.com/ForJJJ/DeliverySystem/wiki/%EC%9A%94%EA%B5%AC%EC%82%AC%ED%95%AD-%EB%AA%85%EC%84%B8%EC%84%9C)
* Github Commit Convention - [Wiki ë³´ê¸°](https://github.com/ForJJJ/DeliverySystem/wiki/Commit-Convention)
* Github PR Convention - [Wiki ë³´ê¸°](https://github.com/ForJJJ/DeliverySystem/wiki/Pull-Request-Convention)
* Our Rules - [Wiki ë³´ê¸°](https://github.com/ForJJJ/DeliverySystem/wiki/OurRules)
* ERD - [Wiki ë³´ê¸°](https://github.com/ForJJJ/DeliverySystem/wiki/ERD)
* ì¸í”„ë¼ ì„¤ê³„ë„ - [Wiki ë³´ê¸°](https://github.com/ForJJJ/DeliverySystem/wiki/%EC%9D%B8%ED%94%84%EB%9D%BC-%EC%84%A4%EA%B3%84%EB%8F%84)
* Todo - [Github Projects ë³´ê¸°](https://github.com/orgs/ForJJJ/projects/1/views/1)
* API ëª…ì„¸ì„œ - [Notion ë³´ê¸°](https://www.notion.so/3debd825cc8b4e01bdf6a465b9c95ede?v=b17aa4eb7e3f4a3a9a530042fe361c15)
* í…Œì´ë¸” ì„¤ê³„ì„œ - [Notion ë³´ê¸°](https://www.notion.so/ac46c4d8638d4448ab1fa1088fa030db)
